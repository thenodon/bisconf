bisconf - Bischeck configuration WebUI
======================================

2013-01-13

Release 0.2.0

This release is compatiable with bischeck 0.4.2.

Overview
========

The bisconf WebUI is a configuration web interface to the configuration of the
bischeck configuration files. 
Features:
- Web configuration of all bischeck xml based configuration files.
- Manage versions of the configuration files
- Support deployment of new configuration version directly from the Web UI. 
This will restart the bischeck server with new configuration files.
- Display the status of the bischeck process. All operations with the bischeck
server is done over JMX, from version bischeck 0.4.0.
- Support authentication to access the system. The admin role has permission to
add additional users.


System requirements
===================
- Java Play! framework version 1.2.4 (not 2.0)
- Support for bischeck from version 0.3.3, but system running 0.3.3 requires  
some additional setup. 

Installation
============
Download bisconf from http://gforge.ingby.com/gf/project/bischeck/frs/ or 
check out the bisconf trunk or tag (0.2.0) if you want to hack it.

Make sure you copy the bischeck-x.y.z.jar and the quartz-2.1.5.jar from the 
bischeck lib to the the checked out bisconf lib directory.

If code is checkout by svn you can build a distribution by:
$ export PLAY_PATH=<play home dir>
$ <play home dir>/play dependencies
$ ant dist 

If you check out the code and like to use eclipse you can run bisconf directly
from the eclipse. Check out the home page of play! for more info,
http://www.playframework.org/documentation/1.2.4/

To install the distribution extract the tar file downloaded or built by ant 
(located in the target directory). From the distribution directory run:
$ chmod 755 install
$ sudo ./install -u

This will present the installation options. Sudo is required since init scripts
are installed in /etc/init.d.


Running bisconf from eclipse
============================
The following steps must be done to run bisconf from eclipse.

1 - Add bischeck 0.4.2 target/classes and target/resources to 
the build path. Make sure to run ant dist in bischeck directory first.

2 - Add system properties in the eclipse "Run configurations"->"Arguments" in
the field "VM arguments", 
-Dbishome=<bischeck source dir>
-Dbisconfhome=<bisconf source dir>


Start bisconf
=============
Simple start bisconf by
$ sudo /etc/init.d/bisconfd start
or 
$ <bisconf home directory>/bin/bisconf

Point your webbrowser to http://<bisconf IP>:9000. Inital login is admin/admin.

If you like to run bisconf behind apache or some other server please see the 
Play! home page for more info.

The initial login access is admin/admin.
   

Running bisconf with apache
===========================
If you like to run bisconf behind apache please follow the instructions:
1 - Uncomment the below line in the play! application.conf file 
http.path=/bisconf

2 - Setup a apache config file with at lest the following lines. This can be in 
virtual host config file or not. 

## Add the following to your apache conf file
ProxyPreserveHost On 
ProxyRequests  On
ProxyPass /bisconf http://localhost:9000/bisconf
ProxyPassReverse /bisconf http://localhost:9000/bisconf

3 - Restart apache and bisconf 

If you running SElinux you do need to run:
# /usr/sbin/setsebool httpd_can_network_connect 1
OR
# /usr/sbin/setsebool httpd_can_network_connect true
OR
Change you selinux rules

Allow bisconf user to manage bischeckd
======================================
To enable the user id executing bisconf, default nagios, to manage bischeck from
the web ui /etc/sudoers needs to be configured in the following way:
Defaults:username !requiretty
nagios ALL= NOPASSWD: /etc/init.d/bischeckd restart
nagios ALL= NOPASSWD: /etc/init.d/bischeckd start
nagios ALL= NOPASSWD: /etc/init.d/bischeckd stop
nagios ALL= NOPASSWD: /etc/init.d/bischeckd pidstatus
 
 
Feedback
========
Please send any feedback to anders.haal@ingby.com or register on 
gforge.ingby.com to submit bug and/or feature request.
 

